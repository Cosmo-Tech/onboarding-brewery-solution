
{
  "steps":[
    {
      "id":"CopyLocalData",
      "command":"bash",
      "arguments":[
        "code/run_templates/sample_postgres_direct/copy_local_data.sh"
      ],
      "description":"Copy local data packaged with simulator to simulation data folder"
    },
    {
      "id":"SimulationRun",
      "command":"main",
      "arguments":[
        "-i","BusinessApp_Simulation"
      ],
      "description":"Runs the sample simulation",
      "useSystemEnvironment":false,
      "precedents":[
        "CopyLocalData"
      ]
    },
    {
      "id":"SendResults",
      "command":"python",
      "arguments":[
        "code/run_templates/sample_postgres_direct/send_postgres_data.py",
        "--source-folder", "${CSM_OUTPUT_ABSOLUTE_PATH}",
        "--postgres-host", "${CSM_POSTGRES_HOST}",
        "--postgres-port", "${CSM_POSTGRES_PORT}",
        "--postgres-db", "${CSM_POSTGRES_DB}",
        "--postgres-schema", "${CSM_POSTGRES_SCHEMA}",
        "--postgres-user", "${CSM_POSTGRES_USER}",
        "--postgres-password", "${CSM_POSTGRES_PASSWORD}",
        "--csm-organization-id", "${CSM_ORGANIZATION_ID}",
        "--csm-workspace-id", "${CSM_WORKSPACE_ID}",
        "--csm-runner-id", "${CSM_RUNNER_ID}",
        "--csm-run-id", "${CSM_RUN_ID}"
      ],
      "useSystemEnvironment":true,
      "precedents":[
        "SimulationRun"
      ]
    }
  ]
}
